(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[0],{264:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=264},282:function(e,t,n){},542:function(e,t){},570:function(e,t,n){},574:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(28),s=n.n(r),o=(n(282),n(147)),c=n(581),l=n(579),u=n(580),d=n(583),p=n(578),h=n(582),m=n(273),f=n(577),y=n(184),b=n.n(y),g=n(102),_=(n(283),n(284),n(265)),j=n(103),v=n(50),E=n(185),x=n.n(E),S=n(63),O=n.n(S),N=n(266),C=n.n(N),T=n(49),F=n.n(T),A=n(183),I=n.n(A),w="\n",D=function e(t){var n=this;Object(j.a)(this,e),this._description=void 0,this._describes=[],this._testCases=[],this.addDiscribe=function(e){n._describes.push(e)},this.addTestCase=function(e){n._testCases.push(e)},this.getTestCasesLength=function(){return n._testCases.length},this.finish=function(){return 0===n._describes.length&&0===n._testCases.length?"":"describe('".concat(n._description,"', () => {\n      ").concat(n._testCases.map((function(e){return e.finish()})).join("\n\n"),"\n\n      ").concat(n._describes.map((function(e){return e.finish()})).join("\n\n"),"\n    })")},this._description=t},P=function e(t){var n=this;Object(j.a)(this,e),this._description=void 0,this._lines=[],this._calledFunctionNames=[],this._comment="",this._hasReturnStatement=!1,this.addLine=function(e){n._lines.push(e)},this.addEmptyLine=function(){n._lines.push(w)},this.addComment=function(e){n._comment="/* ".concat(e," */ ").concat(w)},this.addReturnStatement=function(){n._hasReturnStatement=!0},this.addCalledFunctionName=function(e){n._calledFunctionNames.push(e)},this.addExpectsForReturnStatement=function(){n._hasReturnStatement&&n._lines.push("expect(result).toEqual(/* COMPLETE */)")},this.addExpectsForCallExpressions=function(){var e,t=Object(_.a)(n._calledFunctionNames);try{for(t.s();!(e=t.n()).done;){var a=e.value;n._lines.push("expect(".concat(a,").toHaveBeenCalledTimes(1)")),n._lines.push("expect(".concat(a,").toHaveBeenCalledWith(/* COMPLETE */)")),n._lines.push(w)}}catch(i){t.e(i)}finally{t.f()}},this.generateStructure=function(){n._lines.push("const mockData = await generateData();"),n._lines.push(w),n._lines.push(H()),n._lines.push(G(n._hasReturnStatement)),n._lines.push(w),n.addExpectsForReturnStatement(),n._lines.push(w),n.addExpectsForCallExpressions()},this.generateErrorStructure=function(){n._lines.push("expect.assertions(1);"),n._lines.push(w),n._lines.push("const mockData = await generateData();"),n._lines.push(w),n._lines.push("try {"),n._lines.push(w),n._lines.push(H()),n._lines.push(G(!1)),n._lines.push("} catch(error) {"),n._lines.push(w),n.addExpectsForCallExpressions(),n._lines.push("expect(error).toEqual(/* COMPLETE */)"),n._lines.push(w),n._lines.push("}")},this.finish=function(){return"".concat(n._comment,"it('").concat(n._description,"', ").concat((M.isAsync,"async")," () => {\n      ").concat(n._lines.join(w),"\n    })")},this._description=t},k=function e(){Object(j.a)(this,e),this.isAsync=!0,this.modules=[],this.selectedModuleName="",this.selectedModuleParams=[],this.testSuite=void 0,this.branches=[],this.tryCatchDescribe=new D("error handling"),this.mainIt=new P("should work as expected"),this.mainReturnStatement=null},M=new k,B=function(e){return Boolean(e&&e.body.some((function(e){return"ThrowStatement"===e.type})))},R=function e(t){return null===t.parentPath||"IfStatement"!==t.parentPath.type&&"ConditionalExpression"!==t.parentPath.type&&"CatchClause"!==t.parentPath.type&&"SwitchStatement"!==t.parentPath.type&&e(t.parentPath)},L=function e(t){return null!==t.parentPath&&("VariableDeclarator"===t.parentPath.type||"AssignmentExpression"===t.parentPath.type||"ReturnStatement"===t.parentPath.type||e(t.parentPath))},U=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)},V=function e(t){var n=this;Object(j.a)(this,e),this._logicalBranches=[],this._statementNode=void 0,this._testNode=void 0,this._describe=void 0,this.generateBranchesByTestNode=function(e,t){"LogicalExpression"===e.type?(n.generateBranchesByTestNode(e.left,!1),n.generateBranchesByTestNode(e.right,!1)):t?(n._logicalBranches.push({isOptional:!1,name:"the condition returns `true`",blockStatement:"BlockStatement"===n._statementNode.consequent.type?n._statementNode.consequent:null}),n._statementNode.alternate&&n._logicalBranches.push({isOptional:!1,name:"the condition returns `false`",blockStatement:"BlockStatement"===n._statementNode.alternate.type?n._statementNode.alternate:null})):(n._logicalBranches.push({isOptional:!1,name:"`"+O()(e).code+"` returns true",blockStatement:"BlockStatement"===n._statementNode.consequent.type?n._statementNode.consequent:null}),n._statementNode.alternate&&n._logicalBranches.push({isOptional:!1,name:"`"+O()(e).code+"` returns false",blockStatement:"BlockStatement"===n._statementNode.alternate.type?n._statementNode.alternate:null}))},this.generateDescribe=function(){var e="`if("+O()(n._testNode).code.replace(/'/g,'"').replace(/\n/g," ")+")`";n._describe=new D("branches generated by ".concat(e))},this.generateTestCases=function(){n._logicalBranches.forEach((function(e){var t,a=B(e.blockStatement)?"throw error":"work",i="should ".concat(a," when ").concat(e.name.replace(/'/g,'"').replace(/\n/g," ")),r=new P(i);e.isOptional&&r.addComment("optional test case"),null===(t=e.blockStatement)||void 0===t||t.body.forEach((function(e){"ReturnStatement"===e.type&&r.addReturnStatement();var t=null;if("ExpressionStatement"===e.type&&"CallExpression"===e.expression.type?t=e.expression:"ExpressionStatement"===e.type&&"AwaitExpression"===e.expression.type&&"CallExpression"===e.expression.argument.type&&(t=e.expression.argument),t){var n=t.callee;if("Identifier"===n.type){var a=n.name+"Spy";r.addCalledFunctionName(a)}else if("MemberExpression"===n.type&&"Identifier"===n.object.type&&"Identifier"===n.property.type){var i="".concat(n.object.name).concat(U(n.property.name),"Spy");r.addCalledFunctionName(i)}}})),B(e.blockStatement)?r.generateErrorStructure():r.generateStructure(),n._describe.addTestCase(r)}))},this.getDescribe=function(){return n._describe},this._statementNode=t,this._testNode=t.test,this.generateBranchesByTestNode(this._testNode,!0),this.generateDescribe(),this.generateTestCases()},q=function e(t){if("Identifier"===t.type)return t.name;if("AssignmentPattern"===t.type)return e(t.left);if("ObjectPattern"===t.type){var n=[];return t.properties.forEach((function(t){"ObjectProperty"===t.type&&n.push(e(t.key))})),"{ ".concat(n.join(", ")," }")}return""},H=function(){var e=[];return M.selectedModuleParams.forEach((function(t){"ObjectPattern"===t.type?t.properties.forEach((function(t){"ObjectProperty"===t.type&&e.push(q(t.key))})):e.push(q(t))})),e.map((function(e){return"const ".concat(e," = 'REPLACE'; /* REPLACE */")})).join(w)},G=function(e){return"".concat(e?"const result =":""," ").concat(M.isAsync?"await":""," ").concat(M.selectedModuleName,"(").concat(M.selectedModuleParams.map((function(e){return q(e)})).join(", "),");")},W=function(){return{visitor:{ExportNamedDeclaration:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t;if(null===e||void 0===e||null===(t=e.node)||void 0===t?void 0:t.declaration){var n=e.node.declaration;"FunctionDeclaration"===n.type&&n.id&&M.modules.push({declarationType:n.id.type,isAsync:n.async||!1,name:n.id.name,node:n,params:n.params,type:n.type}),"VariableDeclaration"===n.type&&n.declarations&&n.declarations.forEach((function(t){var n=t.id,a=t.init;"Identifier"===n.type&&"ArrowFunctionExpression"===(null===a||void 0===a?void 0:a.type)&&M.modules.push({declarationType:a.type,isAsync:a.async||!1,name:n.name,node:a,params:a.params,type:e.node.type})}))}})),ExportDefaultDeclaration:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t,n,a=e.node.declaration,i=null;if("Identifier"===a.type){i=a.name;var r=function(e,t){var n=e.container,a=null;return Array.isArray(n)&&n.forEach((function(e){"FunctionDeclaration"===e.type&&e.id&&e.id.name===t&&(a=e),"VariableDeclaration"===e.type&&e.declarations&&e.declarations.forEach((function(e){var n=e.id,i=e.init;"ArrowFunctionExpression"===(null===i||void 0===i?void 0:i.type)&&"Identifier"===n.type&&(null===n||void 0===n?void 0:n.name)===t&&(a=i)}))})),a}(e,a.name);r&&(a=r)}"FunctionDeclaration"===a.type&&a.id&&M.modules.push({declarationType:a.id.type,isAsync:a.async||!1,name:i||(null===(t=a)||void 0===t||null===(n=t.id)||void 0===n?void 0:n.name)||"NAME NOT FOUND",node:a,params:a.params,type:a.type});"ArrowFunctionExpression"===a.type&&M.modules.push({declarationType:a.type,isAsync:a.async||!1,name:i||"unknown",node:a,params:a.params,type:e.node.type})}))}}},z=function(){return{visitor:{IfStatement:{enter:function(e){var t=new V(e.node);M.branches.push(t.getDescribe())}},ConditionalExpression:{enter:function(e){var t=new V(e.node);M.branches.push(t.getDescribe())}},SwitchStatement:{enter:function(e){}},TryStatement:{enter:function(e){var t,n="should execute catch for try number ".concat(M.tryCatchDescribe.getTestCasesLength()+1),a=new P(n);B(null===(t=e.node.handler)||void 0===t?void 0:t.body)?a.generateErrorStructure():a.generateStructure(),M.tryCatchDescribe.addTestCase(a)}},CallExpression:{enter:function(e){if(R(e)&&!L(e)){var t=e.node.callee;if("Identifier"===t.type){var n=t.name+"Spy";M.mainIt.addCalledFunctionName(n)}else if("MemberExpression"===t.type&&"Identifier"===t.object.type&&"Identifier"===t.property.type){var a="".concat(t.object.name).concat(U(t.property.name),"Spy");M.mainIt.addCalledFunctionName(a)}}}},ReturnStatement:{enter:function(e){R(e)&&(M.mainReturnStatement=e)}}}}},J=function(e,t){M=new k,Object(v.transformSync)(e,{presets:[x.a],plugins:[W],filename:"./temp.ts"});var n=M.modules.find((function(e){return e.name===t}));if(!n)return"WRONG FUNCTION/MODULE NAME";M.selectedModuleName=n.name,M.selectedModuleParams=n.params||n.node.declaration.params,M.isAsync="boolean"===typeof n.isAsync?n.isAsync:n.node.declaration.async;var a=O()(n.node).code;Object(v.transformSync)(a,{presets:[x.a],plugins:[z],filename:"./temp.ts"}),M.testSuite=new D("module ".concat(M.selectedModuleName)),M.mainReturnStatement&&M.mainIt.addReturnStatement(),M.mainIt.generateStructure(),M.testSuite.addTestCase(M.mainIt),M.branches.map(M.testSuite.addDiscribe),M.testSuite.addDiscribe(M.tryCatchDescribe);var i=function(e){var t=e.MODULE_NAME,n=e.TEST_CASES;return"\n  /*\n   * File generated by https://fsantecchia.github.io\n   */\n\n  import ".concat(t," from '../").concat(t,"'\n\n  const generateData = async () => {};\n\n  beforeEach(jest.clearAllMocks);\n\n  ").concat(n,"\n")}({MODULE_NAME:M.selectedModuleName,TEST_CASES:M.testSuite.finish()});return C.a.format(i,{singleQuote:!0,tabWidth:2,parser:"babel",plugins:[F.a,I.a]})},Q=(n(570),n(23)),K=c.a.Header,X=c.a.Footer,Y=c.a.Content,Z='Write your code here\n1 - Export the function/module that you would like to test\n2 - Fill the input below\n3 - Press "Generate file" button\n\nExample 1:\nexport function isValid(param1: string) {\n  let isInvalid = false;\n  if (!param1) {\n    isInvalid = true;\n  }\n  return isInvalid;\n}\n\nExample 2:\nexport const isValid = (param1: string) => {\n  let isInvalid = false;\n  if (!param1) {\n    isInvalid = true;\n  }\n  return isInvalid;\n}\n';var $=function(){var e=l.a.useForm(),t=Object(o.a)(e,1)[0],n=Object(a.useState)(""),i=Object(o.a)(n,2),r=i[0],s=i[1],y=Object(a.useState)("The test file will be added here"),_=Object(o.a)(y,2),j=_[0],v=_[1];return Object(Q.jsx)("div",{className:"App background-color",children:Object(Q.jsxs)(c.a,{children:[Object(Q.jsx)(K,{className:"background-color",children:Object(Q.jsx)(u.a.Title,{level:1,children:"Generate unit tests for your code!"})}),Object(Q.jsxs)(Y,{className:"background-color",children:[Object(Q.jsxs)(l.a,{form:t,onFinish:function(){var e=document.getElementById("functionName").value,t="";t=r&&e?J(r,e.trim()):"MISSING PARAMETERS",v(t)},children:[Object(Q.jsx)("div",{children:Object(Q.jsxs)(d.b,{size:"middle",align:"center",children:[Object(Q.jsx)("div",{className:"code-editor-container",children:Object(Q.jsx)(b.a,{value:r,onValueChange:function(e){return s(e)},highlight:function(e){return Object(g.highlight)(e,g.languages.js)},padding:10,className:"code-editor",placeholder:Z})}),Object(Q.jsx)("div",{className:"code-editor-container",children:Object(Q.jsx)(b.a,{value:j,onValueChange:function(e){return v(e)},highlight:function(e){return Object(g.highlight)(e,g.languages.js)},padding:10,className:"code-editor",placeholder:Z,readOnly:!0})})]})}),Object(Q.jsx)("br",{}),Object(Q.jsx)(d.b,{children:Object(Q.jsx)(p.a,{className:"background-color",children:Object(Q.jsxs)(d.b,{size:"middle",align:"center",direction:"vertical",children:[Object(Q.jsx)(l.a.Item,{label:"Module to test",name:"functionName",children:Object(Q.jsx)(h.a,{id:"functionName",placeholder:"Example: isValid",required:!0})}),Object(Q.jsx)(m.a,{type:"primary",htmlType:"submit",children:"Generate file"})]})})})]}),Object(Q.jsx)(f.a,{}),Object(Q.jsxs)(d.b,{size:"middle",align:"center",direction:"vertical",children:[Object(Q.jsx)(u.a.Title,{level:2,children:"Command to run test locally"}),Object(Q.jsx)(u.a.Text,{children:"Replace 'FILE_PATH' and 'TEST_FILE_PATH'"}),Object(Q.jsx)(u.a.Text,{children:"node ./node_modules/.bin/jest --collectCoverage --coverageReporters=text --collectCoverageFrom=FILE_PATH TEST_FILE_PATH"})]})]}),Object(Q.jsx)(X,{className:"background-color",children:"by Fabra"})]})})},ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,584)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),r(e),s(e)}))};s.a.render(Object(Q.jsx)(i.a.StrictMode,{children:Object(Q.jsx)($,{})}),document.getElementById("root")),ee()}},[[574,1,2]]]);
//# sourceMappingURL=main.b266eba2.chunk.js.map