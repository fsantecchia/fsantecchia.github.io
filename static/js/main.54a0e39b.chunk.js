(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[0],{267:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=267},285:function(e,t,n){},543:function(e,t){},571:function(e,t,n){},575:function(e,t,n){"use strict";n.r(t);var i=n(0),s=n.n(i),a=n(28),r=n.n(a),c=(n(285),n(274)),o=n(584),d=n(581),u=n(582),l=n(585),h=n(583),p=n(579),f=n(275),m=n(578),b=n(580),y=n.p+"static/media/example.814719f1.gif",g=n(106),j=n(52),O=n(188),_=n.n(O),v=n(65),x=n.n(v),E=n(268),C=n.n(E),N=n(51),S=n.n(N),T=n(187),w=n.n(T),B="\n",M=function e(){Object(g.a)(this,e),this.isAsync=!0,this.modules=[],this.selectedModuleName="",this.selectedModuleParams=[],this.testSuite=void 0,this.tryCatchCases=[]},A=new M,I=function e(t){var n=this;Object(g.a)(this,e),this._logicalBranches=[],this._testNode=void 0,this._describe=void 0,this.generateBranchesByTestNode=function(e,t){"LogicalExpression"===e.type?(t&&(n._logicalBranches.push({isOptional:!1,name:"`the condition returns true`"}),n._logicalBranches.push({isOptional:!1,name:"`the condition returns false`"})),n.generateBranchesByTestNode(e.left,!1),n.generateBranchesByTestNode(e.right,!1)):t?(n._logicalBranches.push({isOptional:!1,name:"`the condition returns true`"}),n._logicalBranches.push({isOptional:!1,name:"`the condition returns false`"})):(n._logicalBranches.push({isOptional:!0,name:"`"+x()(e).code+" returns true`"}),n._logicalBranches.push({isOptional:!0,name:"`"+x()(e).code+" returns false`"}))},this.generateDescribe=function(){var e="`if("+x()(n._testNode).code.replace(/'/g,"`").replace(/\n/g," ")+")`";n._describe=new D("Branches generated by ".concat(e))},this.generateTestCases=function(){n._logicalBranches.forEach((function(e){var t="should work when ".concat(e.name.replace(/'/g,"`").replace(/\n/g," ")),i=new P(t);e.isOptional&&i.addComment("optional test case"),i.generateStructure(),n._describe.addTestCase(i)}))},this.getDescribe=function(){return n._describe},this._testNode=t,this.generateBranchesByTestNode(this._testNode,!0),this.generateDescribe(),this.generateTestCases()},D=function e(t){var n=this;Object(g.a)(this,e),this._description=void 0,this._describes=[],this._testCases=[],this.addDiscribe=function(e){n._describes.push(e)},this.addTestCase=function(e){n._testCases.push(e)},this.finish=function(){return"describe('".concat(n._description,"', () => {\n      beforeEach(async () => {});\n\n      ").concat(n._testCases.map((function(e){return e.finish()})).join("\n\n"),"\n\n      ").concat(n._describes.map((function(e){return e.finish()})).join("\n\n"),"\n    })")},this._description=t},P=function e(t){var n=this;Object(g.a)(this,e),this._description=void 0,this._lines=[],this._comment="",this.addLine=function(e){n._lines.push(e)},this.addEmptyLine=function(){n._lines.push(B)},this.addComment=function(e){n._comment="/* ".concat(e," */ ").concat(B)},this.generateStructure=function(){n._lines.push(F()),n._lines.push(B),n._lines.push(L()),n._lines.push(B),n._lines.push("/* add expect() here */")},this.finish=function(){return"".concat(n._comment,"it('").concat(n._description,"', ").concat(A.isAsync?"async":""," () => {\n      ").concat(n._lines.join(B),"\n    })")},this._description=t},k=function e(t){if("Identifier"===t.type)return t.name;if("AssignmentPattern"===t.type)return e(t.left);if("ObjectPattern"===t.type){var n=[];return t.properties.forEach((function(t){"ObjectProperty"===t.type&&n.push(e(t.key))})),"{ ".concat(n.join(", ")," }")}return""},F=function(){var e=[];return A.selectedModuleParams.forEach((function(t){"ObjectPattern"===t.type?t.properties.forEach((function(t){"ObjectProperty"===t.type&&e.push(k(t.key))})):e.push(k(t))})),e.map((function(e){return"const ".concat(e," = 'REPLACE';")})).join(B)},L=function(){return"const result = ".concat(A.isAsync?"await":""," ").concat(A.selectedModuleName,"(").concat(A.selectedModuleParams.map((function(e){return k(e)})).join(", "),");")},G=function(){return{visitor:{ExportNamedDeclaration:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e.node.declaration.id&&A.modules.push({declarationType:e.node.declaration.id.type,name:e.node.declaration.id.name,node:e.node,type:e.node.type}),e.node.declaration.declarations&&e.node.declaration.declarations.forEach((function(t){A.modules.push({declarationType:t.id.type,name:t.id.name,node:t.init,params:t.init.params,isAsync:t.init.async,type:e.node.type})})),e.node.specifiers&&e.node.specifiers.length>=1&&e.node.specifiers.forEach((function(t){A.modules.push({declarationType:t.exported.type,name:t.exported.name,node:e.node,type:e.node.type})}))})),ExportDefaultDeclaration:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){"Identifier"!==e.node.declaration.type&&A.modules.push({declarationType:e.node.declaration.type,name:e.node.declaration.id.name,node:e.node,type:e.node.type})}))}}},U=function(){return{visitor:{IfStatement:{enter:function(e){var t=new I(e.node.test);A.testSuite.addDiscribe(t.getDescribe())}},ConditionalExpression:{enter:function(e){var t=new I(e.node.test);A.testSuite.addDiscribe(t.getDescribe())}},TryStatement:{enter:function(){var e="Error handling - should execute catch for try number ".concat(A.tryCatchCases.length+1),t=new P(e);t.generateStructure(),A.tryCatchCases.push(t)}}}}},R=function(e,t){A=new M,Object(j.transformSync)(e,{presets:[_.a],plugins:[G],filename:"./temp.ts"});var n=A.modules.find((function(e){return e.name===t}));if(!n)return"WRONG FUNCTION NAME";A.selectedModuleName=n.name,A.selectedModuleParams=n.params||n.node.declaration.params,A.isAsync="boolean"===typeof n.isAsync?n.isAsync:n.node.declaration.async,A.testSuite=new D("Module ".concat(A.selectedModuleName));var i=new P("should work as expected");i.generateStructure(),A.testSuite.addTestCase(i);var s=x()(n.node).code;Object(j.transformSync)(s,{presets:[_.a],plugins:[U],filename:"./temp.ts"}),A.tryCatchCases.map(A.testSuite.addTestCase);var a=function(e){var t=e.MODULE_NAME,n=e.TEST_CASES;return"\n  /* \n   * File generated by https://fsantecchia.github.io \n   */\n\n  import ".concat(t," from '../").concat(t,"'\n\n  ").concat(n,"\n")}({MODULE_NAME:A.selectedModuleName,TEST_CASES:A.testSuite.finish()});return C.a.format(a,{singleQuote:!0,tabWidth:2,parser:"babel",plugins:[S.a,w.a]})},V=(n(571),n(25)),z=o.a.Header,W=o.a.Footer,q=o.a.Content;var H=function(){var e=d.a.useForm(),t=Object(c.a)(e,1)[0];return Object(V.jsx)("div",{className:"App background-color",children:Object(V.jsxs)(o.a,{children:[Object(V.jsx)(z,{className:"background-color",children:Object(V.jsx)(u.a.Title,{level:1,children:"Generate unit tests for your code!"})}),Object(V.jsxs)(q,{className:"background-color",children:[Object(V.jsxs)(d.a,{form:t,onFinish:function(){var e=document.getElementById("code").value,n=document.getElementById("functionName").value,i="";i=e&&n?R(e,n.trim()):"MISSING PARAMETERS",t.setFieldsValue({generated:i})},children:[Object(V.jsx)("div",{children:Object(V.jsxs)(l.b,{size:"middle",align:"center",children:[Object(V.jsx)(h.a.TextArea,{name:"code",id:"code",rows:35,cols:100,placeholder:'Write your code here\n1 - Export the function/module that you would like to test\n2 - Fill the input below\n3 - Press "Generate file" button\n\nExample 1: \nexport function isValid(param1: string) {\n  let isInvalid = false;\n  if (!param1) {\n    isInvalid = true;\n  }\n  return isInvalid;\n}\n\nExample 2: \nexport const isValid = (param1: string) => {\n  let isInvalid = false;\n  if (!param1) {\n    isInvalid = true;\n  }\n  return isInvalid;\n}\n',required:!0,showCount:!0}),Object(V.jsx)(d.a.Item,{name:"generated",children:Object(V.jsx)(h.a.TextArea,{id:"generated",rows:35,cols:100,value:"The test file will be added here",readOnly:!0,showCount:!0})})]})}),Object(V.jsx)(l.b,{children:Object(V.jsx)(p.a,{className:"background-color",children:Object(V.jsxs)(l.b,{size:"middle",align:"center",direction:"vertical",children:[Object(V.jsx)(d.a.Item,{label:"Module to test",name:"functionName",children:Object(V.jsx)(h.a,{id:"functionName",placeholder:"Example: isValid",required:!0})}),Object(V.jsx)(f.a,{type:"primary",htmlType:"submit",children:"Generate file"})]})})})]}),Object(V.jsx)(m.a,{}),Object(V.jsxs)(l.b,{size:"middle",align:"center",direction:"vertical",children:[Object(V.jsx)(u.a.Title,{level:2,children:"How to use"}),Object(V.jsx)(b.a,{src:y,width:1280,height:720})]})]}),Object(V.jsx)(W,{className:"background-color",children:"by Fabra 2021"})]})})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,586)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),i(e),s(e),a(e),r(e)}))};r.a.render(Object(V.jsx)(s.a.StrictMode,{children:Object(V.jsx)(H,{})}),document.getElementById("root")),J()}},[[575,1,2]]]);
//# sourceMappingURL=main.54a0e39b.chunk.js.map