(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[0],{185:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=185},192:function(e,t,n){},451:function(e,t){},480:function(e,t,n){},482:function(e,t,n){"use strict";n.r(t);var i=n(73),s=n.n(i),c=n(186),a=n.n(c),r=(n(192),n.p,n(47)),o=n(18),d=n(108),u=n.n(d),h=n(27),l=n.n(h),p=n(187),f=n.n(p),m=n(17),g=n.n(m),y="\n",b=function e(){Object(r.a)(this,e),this.isAsync=!0,this.modules=[],this.selectedModuleName="",this.selectedModuleParams=[],this.testSuite=void 0,this.tryCatchCases=[]},_=new b,j=function e(t){var n=this;Object(r.a)(this,e),this._logicalBranches=[],this._testNode=void 0,this._describe=null,this.generateDescribe=function(){var e="`if("+l()(n._testNode).code.replace(/'/g,"`").replace(/\n/g," ")+")`";n._describe=new E("Logical Branches generated by ".concat(e))},this.generateBranchesByTestNode=function(e,t){"LogicalExpression"===e.type?(t&&(n._logicalBranches.push({name:"`the condition returns true`"}),n._logicalBranches.push({name:"`the condition returns false`"})),n.generateBranchesByTestNode(e.left,!1),n.generateBranchesByTestNode(e.right,!1)):(n._logicalBranches.push({name:"`"+l()(e).code+" returns true`"}),n._logicalBranches.push({name:"`"+l()(e).code+" returns false`"}))},this.generateTestCases=function(){n._logicalBranches.forEach((function(e){var t="should work when ".concat(e.name.replace(/'/g,"`").replace(/\n/g," ")),i=new v(t);i.generateStructure(),n._describe.addTestCase(i)}))},this.getDescribe=function(){return n._describe},this._testNode=t,this.generateDescribe(),this.generateBranchesByTestNode(this._testNode,!0),this.generateTestCases()},E=function e(t){var n=this;Object(r.a)(this,e),this._description=void 0,this._describes=[],this._testCases=[],this.addDiscribe=function(e){n._describes.push(e)},this.addTestCase=function(e){n._testCases.push(e)},this.finish=function(){return"describe('".concat(n._description,"', () => {\n      beforeEach(async () => {});\n\n      ").concat(n._testCases.map((function(e){return e.finish()})).join("\n\n"),"\n    })")},this._description=t},v=function e(t){var n=this;Object(r.a)(this,e),this._description=void 0,this._lines=[],this.addLine=function(e){n._lines.push(e)},this.addEmptyLine=function(){n._lines.push(y)},this.generateStructure=function(){n._lines.push(S()),n._lines.push(y),n._lines.push(T())},this.finish=function(){return"it('".concat(n._description,"', ").concat(_.isAsync?"async":""," () => {\n      ").concat(n._lines.join(y),"\n    })")},this._description=t},C=function e(t){if("Identifier"===t.type)return t.name;if("AssignmentPattern"===t.type)return e(t.left);if("ObjectPattern"===t.type){var n=[];return t.properties.forEach((function(t){n.push(e(t.key))})),"{ ".concat(n.join(", ")," }")}},S=function(){var e=[];return _.selectedModuleParams.forEach((function(t){"ObjectPattern"===t.type?t.properties.forEach((function(t){e.push(C(t.key))})):e.push(C(t))})),e.map((function(e){return"const ".concat(e," = 'REPLACE';")})).join(y)},T=function(){return"const result = ".concat(_.isAsync?"await":""," ").concat(_.selectedModuleName,"(").concat(_.selectedModuleParams.map((function(e){return C(e)})).join(", "),");")},O=function(){return{visitor:{ExportNamedDeclaration:function(e){e.node.declaration.id&&_.modules.push({declarationType:e.node.declaration.id.type,name:e.node.declaration.id.name,node:e.node,type:e.node.type}),e.node.declaration.declarations&&e.node.declaration.declarations.forEach((function(t){_.modules.push({declarationType:t.id.type,name:t.id.name,node:e.node,type:e.node.type})})),e.node.specifiers&&e.node.specifiers.length>=1&&e.node.specifiers.forEach((function(t){_.modules.push({declarationType:t.exported.type,name:t.exported.name,node:e.node,type:e.node.type})}))},ExportDefaultDeclaration:function(e){_.modules.push({declarationType:e.node.declaration.type,name:e.node.declaration.id.name,node:e.node,type:e.node.type})}}}},N=function(){return{visitor:{IfStatement:{enter:function(e){var t=new j(e.node.test);_.testSuite.addDiscribe(t.getDescribe())}},ConditionalExpression:{enter:function(e){var t=new j(e.node.test);_.testSuite.addDiscribe(t.getDescribe())}},TryStatement:{enter:function(){var e="Error handling - should execute catch for try number ".concat(_.tryCatchCases.length),t=new v(e);t.generateStructure(),_.tryCatchCases.push(t)}}}}},w=function(e,t){_=new b,Object(o.transformSync)(e,{presets:[u.a],plugins:[O],filename:"./code3.ts"});var n=_.modules.find((function(e){return e.name===t}));_.selectedModuleName=n.name,_.selectedModuleParams=n.node.declaration.params,_.isAsync=n.node.declaration.async,_.testSuite=new E("Module ".concat(_.selectedModuleName));var i=new v("Should work as expected");i.generateStructure(),_.testSuite.addTestCase(i);var s=l()(n.node).code;Object(o.transformSync)(s,{presets:[u.a],plugins:[N],filename:"./code3.ts"}),_.tryCatchCases.map(_.testSuite.addTestCase);var c=function(e){var t=e.MODULE_NAME,n=e.TEST_CASES;return"\n  // File generated by fabra\n\n  import ".concat(t," from '../").concat(t,"'\n\n  ").concat(n,"\n")}({MODULE_NAME:_.selectedModuleName,TEST_CASES:_.testSuite.finish()});return f.a.format(c,{singleQuote:!0,tabWidth:2,parser:"babel",plugins:[g.a]})},x=(n(480),n(12));var B=function(){return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)("header",{children:"JS UNIT TEST FILE GENERATOR"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("textarea",{name:"code",id:"code",rows:"50",cols:"100",children:"Write something here"}),Object(x.jsx)("textarea",{name:"generated",id:"generated",rows:"50",cols:"100",children:"Write something here"}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{placeholder:"Function's name",id:"functionName"}),Object(x.jsx)("button",{onClick:function(){var e=document.getElementById("code").value,t=document.getElementById("functionName").value,n=w(e,t);document.getElementById("generated").value=n},children:"Generate file"})]})]})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,483)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),i(e),s(e),c(e),a(e)}))};a.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(B,{})}),document.getElementById("root")),D()}},[[482,1,2]]]);
//# sourceMappingURL=main.d8aa6eb0.chunk.js.map